<!DOCTYPE html>
<html>
  <head>
    <meta charSet="utf-8"/>
    <title>Tweed | RSS feeds for Twitter</title>
    <script defer data-domain="tweed.systems" src="https://plausible.io/js/plausible.js"></script>
  </head>
  <body>
    <h1>Tweed</h1>
    <p>Subscribe to an RSS feed for a public twitter account.</p>
    <form id="user-form" method="GET">
      <label>
        <strong>Twitter username</strong>
        <br />
        @<input autofocus name="username" pattern="^(\w){1,15}$" placeholder="colbyrabideau" required />
      </label>
      <br />
      <br />
      <button type="submit">Get RSS Feed</button>
    </form>

    <script type="text/javascript">
      (function() {
        var formEl = document.getElementById("user-form");
        formEl.addEventListener('submit', function (evt) {
          evt.preventDefault();
          const username = formEl.elements.username.value;
          window.location = "/" + username + "/tweets.rss";
        });
      }());
    </script>
  </body>
</html>
